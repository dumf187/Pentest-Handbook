# connect to the API
# username: wtbrat961
import shodan
SHODAN_API_KEY = "insert your API key here" # 1jRU7sie2GGGL2nzDZCTOA1zwaWxcsnJ
api = shodan.Shodan(SHODAN_API_KEY)


# searching shodan 
# Wrap the request in a try/ except block to catch errors
def search_shodan(item):
    try:
# Search Shodan
        results = api.search('item')
# Show the results
        print('Results found: {}'.format(results['total']))
# how many results - result matches in results-dict
        for result in results['matches']:
            print('IP: {}'.format(result['ip_str']))
#Banner
            print(result['data'])
            print('')
    except shodan.APIError, e:
        print('Error: {}'.format(e))
      
def main():
    search_shodan(input("Suchbegriff eingeben")
        
 #looking up a host 
                 
def host_lookup():
                
    host = api.host('217.140.75.46')
 # Print general info
    print("""
IP: {}
Organization: {}
Operating System: {}
""".format(host['ip_str'], host.get('org', 'n/a'), host.get('os', 'n/a')))
                  
                  
